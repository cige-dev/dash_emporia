<!DOCTYPE html>

<html>
  <head>
    <title>Protocol Documentation</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700,400italic"/>
    <style>
      body {
        width: 60em;
        margin: 1em auto;
        color: #222;
        font-family: "Ubuntu", sans-serif;
        padding-bottom: 4em;
      }

      h1 {
        font-weight: normal;
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
      }

      h2 {
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
        margin: 1.5em 0;
      }

      h3 {
        font-weight: normal;
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
      }

      a {
        text-decoration: none;
        color: #567e25;
      }

      table {
        width: 100%;
        font-size: 80%;
        border-collapse: collapse;
      }

      thead {
        font-weight: 700;
        background-color: #dcdcdc;
      }

      tbody tr:nth-child(even) {
        background-color: #fbfbfb;
      }

      td {
        border: 1px solid #ccc;
        padding: 0.5ex 2ex;
      }

      td p {
        text-indent: 1em;
        margin: 0;
      }

      td p:nth-child(1) {
        text-indent: 0;  
      }

       
      .field-table td:nth-child(1) {  
        width: 10em;
      }
      .field-table td:nth-child(2) {  
        width: 10em;
      }
      .field-table td:nth-child(3) {  
        width: 6em;
      }
      .field-table td:nth-child(4) {  
        width: auto;
      }

       
      .extension-table td:nth-child(1) {  
        width: 10em;
      }
      .extension-table td:nth-child(2) {  
        width: 10em;
      }
      .extension-table td:nth-child(3) {  
        width: 10em;
      }
      .extension-table td:nth-child(4) {  
        width: 5em;
      }
      .extension-table td:nth-child(5) {  
        width: auto;
      }

       
      .enum-table td:nth-child(1) {  
        width: 10em;
      }
      .enum-table td:nth-child(2) {  
        width: 10em;
      }
      .enum-table td:nth-child(3) {  
        width: auto;
      }

       
      .scalar-value-types-table tr {
        height: 3em;
      }

       
      #toc-container ul {
        list-style-type: none;
        padding-left: 1em;
        line-height: 180%;
        margin: 0;
      }
      #toc > li > a {
        font-weight: bold;
      }

       
      .file-heading {
        width: 100%;
        display: table;
        border-bottom: 1px solid #aaa;
        margin: 4em 0 1.5em 0;
      }
      .file-heading h2 {
        border: none;
        display: table-cell;
      }
      .file-heading a {
        text-align: right;
        display: table-cell;
      }

       
      .badge {
        width: 1.6em;
        height: 1.6em;
        display: inline-block;

        line-height: 1.6em;
        text-align: center;
        font-weight: bold;
        font-size: 60%;

        color: #89ba48;
        background-color: #dff0c8;

        margin: 0.5ex 1em 0.5ex -1em;
        border: 1px solid #fbfbfb;
        border-radius: 1ex;
      }
    </style>

    
    <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
  </head>

  <body>

    <h1 id="title">Protocol Documentation</h1>

    <h2>Table of Contents</h2>

    <div id="toc-container">
      <ul id="toc">
        
          
          <li>
            <a href="#partner_api2.proto">partner_api2.proto</a>
            <ul>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.AuthenticationRequest"><span class="badge">M</span>AuthenticationRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.AuthenticationResponse"><span class="badge">M</span>AuthenticationResponse</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatteriesResponse"><span class="badge">M</span>BatteriesResponse</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.Battery"><span class="badge">M</span>Battery</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatterySettings"><span class="badge">M</span>BatterySettings</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatterySettings.ChargeToStateOfCharge"><span class="badge">M</span>BatterySettings.ChargeToStateOfCharge</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatterySettings.ChargeWithExcessSolar"><span class="badge">M</span>BatterySettings.ChargeWithExcessSolar</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatterySettings.DischargeToStateOfCharge"><span class="badge">M</span>BatterySettings.DischargeToStateOfCharge</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatterySettings.Idle"><span class="badge">M</span>BatterySettings.Idle</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.BatterySettings.LoadFollowing"><span class="badge">M</span>BatterySettings.LoadFollowing</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryRequest"><span class="badge">M</span>DeviceInventoryRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse"><span class="badge">M</span>DeviceInventoryResponse</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device"><span class="badge">M</span>DeviceInventoryResponse.Device</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo"><span class="badge">M</span>DeviceInventoryResponse.Device.CircuitInfo</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CustomerInfo"><span class="badge">M</span>DeviceInventoryResponse.Device.CustomerInfo</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceUsageRequest"><span class="badge">M</span>DeviceUsageRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceUsageResponse"><span class="badge">M</span>DeviceUsageResponse</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceUsageResponse.DeviceUsage"><span class="badge">M</span>DeviceUsageResponse.DeviceUsage</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceUsageResponse.DeviceUsage.ChannelUsageData"><span class="badge">M</span>DeviceUsageResponse.DeviceUsage.ChannelUsageData</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.EVCharger"><span class="badge">M</span>EVCharger</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.EVChargerSettings"><span class="badge">M</span>EVChargerSettings</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.EVChargersResponse"><span class="badge">M</span>EVChargersResponse</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.ListDevicesRequest"><span class="badge">M</span>ListDevicesRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.OutletSettings"><span class="badge">M</span>OutletSettings</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.OutletsResponse"><span class="badge">M</span>OutletsResponse</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.UpdateBatteriesRequest"><span class="badge">M</span>UpdateBatteriesRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.UpdateEVChargersRequest"><span class="badge">M</span>UpdateEVChargersRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.UpdateOutletsRequest"><span class="badge">M</span>UpdateOutletsRequest</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.UtilityConnect"><span class="badge">M</span>UtilityConnect</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.UtilityConnectsResponse"><span class="badge">M</span>UtilityConnectsResponse</a>
                </li>
              
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DataResolution"><span class="badge">E</span>DataResolution</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo.CircuitType"><span class="badge">E</span>DeviceInventoryResponse.Device.CircuitInfo.CircuitType</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo.EnergyDirection"><span class="badge">E</span>DeviceInventoryResponse.Device.CircuitInfo.EnergyDirection</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.DeviceModel"><span class="badge">E</span>DeviceInventoryResponse.Device.DeviceModel</a>
                </li>
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.DeviceUsageRequest.UsageChannel"><span class="badge">E</span>DeviceUsageRequest.UsageChannel</a>
                </li>
              
              
              
                <li>
                  <a href="#emporiaenergy.partner_api_2.PartnerApi"><span class="badge">S</span>PartnerApi</a>
                </li>
              
            </ul>
          </li>
        
        <li><a href="#scalar-value-types">Scalar Value Types</a></li>
      </ul>
    </div>

    
      
      <div class="file-heading">
        <h2 id="partner_api2.proto">partner_api2.proto</h2><a href="#title">Top</a>
      </div>
      <p>doesn't allow for required or optional, see https://developers.google.com/protocol-buffers/docs/proto3</p>

      
        <h3 id="emporiaenergy.partner_api_2.AuthenticationRequest">AuthenticationRequest</h3>
        <p>All API access is controlled using authorization tokens.  You should use the same email and password used to </p><p>access the Emporia Partner Portal to access the API.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>partner_email</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>partner email from the partner portal website </p></td>
                </tr>
              
                <tr>
                  <td>password</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>password the partner uses to login to the partner portal website </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.AuthenticationResponse">AuthenticationResponse</h3>
        <p></p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>the authorization token that you need to include with all other calls to the API </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.BatteriesResponse">BatteriesResponse</h3>
        <p></p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>batteries</td>
                  <td><a href="#emporiaenergy.partner_api_2.Battery">Battery</a></td>
                  <td>repeated</td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.Battery">Battery</h3>
        <p>Describes an Emporia Battery, a WiFi connected home battery with Weeyu inverter and Alpha battery packs</p><p>If the device is not currently connected to the Emporia cloud (device_connected for the Device in the DeviceInventoryResponse is false),</p><p>the soc_percentage isn't known and won't be provided.  Calling UpdateBatteries will fail for a disconnected Battery.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>capacity_kwhs</td>
                  <td><a href="#double">double</a></td>
                  <td></td>
                  <td><p>the maximum capacity of the battery in kilowatt-hours </p></td>
                </tr>
              
                <tr>
                  <td>inverter_max_power_kwatts</td>
                  <td><a href="#double">double</a></td>
                  <td></td>
                  <td><p>the maximum power of the inverter in kWatts </p></td>
                </tr>
              
                <tr>
                  <td>soc_percentage</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>the current State of Charge of the battery, as a percentage 1 to 100 (inclusive) </p></td>
                </tr>
              
                <tr>
                  <td>settings</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings">BatterySettings</a></td>
                  <td></td>
                  <td><p>the settings that may be changed using the API, starting at a higher index to leave room for additional non-changeable fields </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.BatterySettings">BatterySettings</h3>
        <p>The battery's settings, this structure is both returned to partners and sent back to Emporia to control the battery  </p><p>When returned from Emporia to a client both the reserve_soc_percentage and dispatch_mode will be set.</p><p>When sent to Emporia to change the battery settings it is not required to set all the fields in settings.</p><p>I.e., you can change reserve_soc_percentage or dispatch_mode without affecting the other field.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>manufacturer_device_id</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>identifies this device </p></td>
                </tr>
              
                <tr>
                  <td>reserve_soc_percentage</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>the battery capacity to reserve, the battery will not discharge below this level; 1 to 100 (inclusive) </p></td>
                </tr>
              
                <tr>
                  <td>load_following</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings.LoadFollowing">BatterySettings.LoadFollowing</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>charge_with_excess_solar</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings.ChargeWithExcessSolar">BatterySettings.ChargeWithExcessSolar</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>charge_to_state_of_charge</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings.ChargeToStateOfCharge">BatterySettings.ChargeToStateOfCharge</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>discharge_to_state_of_charge</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings.DischargeToStateOfCharge">BatterySettings.DischargeToStateOfCharge</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>idle</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings.Idle">BatterySettings.Idle</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.BatterySettings.ChargeToStateOfCharge">BatterySettings.ChargeToStateOfCharge</h3>
        <p>Charge to the specified state of charge: charge to soc_percentage at charge_power_kwatts using solar and </p><p>grid as needed; once the battery is at SoC, stop charging.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>soc_percentage</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>1 to 100 (inclusive) but will not violate the reserve_soc_percentage </p></td>
                </tr>
              
                <tr>
                  <td>charge_power_kwatts</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>positive power value to charge at </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.BatterySettings.ChargeWithExcessSolar">BatterySettings.ChargeWithExcessSolar</h3>
        <p>Charge from excess solar: the battery does not discharge.  If there is excess solar, charge to 100% SoC at </p><p>a maximum of charge_power_kwatts</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>charge_power_kwatts</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>positive power value to charge at </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.BatterySettings.DischargeToStateOfCharge">BatterySettings.DischargeToStateOfCharge</h3>
        <p>Discharge to the specified state of charge: discharge to soc_percentage at discharge_power_kwatts even if that</p><p>results in exporting to the grid; once the battery is at SoC, stop</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>soc_percentage</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>1 to 100 (inclusive) but will not violate the reserve_soc_percentage </p></td>
                </tr>
              
                <tr>
                  <td>discharge_power_kwatts</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>positive power value to discharge at </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.BatterySettings.Idle">BatterySettings.Idle</h3>
        <p>battery will not charge or discharge</p>

        

        
      
        <h3 id="emporiaenergy.partner_api_2.BatterySettings.LoadFollowing">BatterySettings.LoadFollowing</h3>
        <p>Load following: if there is excess solar, will charge up to power_kwatts and sends the rest to the grid</p><p>if there is load, will discharge up to power_kwatts to zero the load.  If load is less than power_kwatts, will discharge to match the load</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>power_kwatts</td>
                  <td><a href="#google.protobuf.DoubleValue">google.protobuf.DoubleValue</a></td>
                  <td></td>
                  <td><p>positive power threshold, will not charge or discharge higher than this </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryRequest">DeviceInventoryRequest</h3>
        <p>request information on the devices associated to the partner</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>customer_emails</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>If empty, return all devices associated with partner
if not empty, limit the returned devices to devices that are associated to the specified customer email(s) </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse">DeviceInventoryResponse</h3>
        <p>returns some or all of the devices associated with the partner</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>devices</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device">DeviceInventoryResponse.Device</a></td>
                  <td>repeated</td>
                  <td><p>list of devices associated with the partner </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse.Device">DeviceInventoryResponse.Device</h3>
        <p>Some Devices may contain fields that are not set.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>manufacturer_device_id</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>identifies this device for future API requests such as building DeviceUsageRequest </p></td>
                </tr>
              
                <tr>
                  <td>model</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.DeviceModel">DeviceInventoryResponse.Device.DeviceModel</a></td>
                  <td></td>
                  <td><p>the model (aka type) of the device </p></td>
                </tr>
              
                <tr>
                  <td>firmware</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>the firmware version running on device </p></td>
                </tr>
              
                <tr>
                  <td>solar</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>for monitor devices, indicates if the main CTs are monitoring bi-directional power flow; i.e., the device is monitoring a house with solar or generation </p></td>
                </tr>
              
                <tr>
                  <td>latitude</td>
                  <td><a href="#double">double</a></td>
                  <td></td>
                  <td><p>if known, the location of the device (set from the phone when the customer onboards the device) </p></td>
                </tr>
              
                <tr>
                  <td>longitude</td>
                  <td><a href="#double">double</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>device_name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>name of the device as chosen by the customer </p></td>
                </tr>
              
                <tr>
                  <td>timezone</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>the time-zone that the user has chosen or UTC if they haven&#39;t picked a time-zone </p></td>
                </tr>
              
                <tr>
                  <td>channel_names</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p><strong>Deprecated.</strong> name of the channels as chosen by the customer or defaulted by the Emporia cloud.  This has been replaced by the circuit_infos which provides additional information. </p></td>
                </tr>
              
                <tr>
                  <td>device_connected</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>is this device currently connected to the Emporia cloud. </p></td>
                </tr>
              
                <tr>
                  <td>circuit_infos</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo">DeviceInventoryResponse.Device.CircuitInfo</a></td>
                  <td>repeated</td>
                  <td><p>the details about the circuits of this device. </p></td>
                </tr>
              
                <tr>
                  <td>customers</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CustomerInfo">DeviceInventoryResponse.Device.CustomerInfo</a></td>
                  <td>repeated</td>
                  <td><p>Some Partners are not allowed to see customer information so this list will be empty.  There might also not be a customer associated to this device
or there might be several customers associated, which is why this is a repeated field </p></td>
                </tr>
              
            </tbody>
          </table>

          
            
            
            <h4>Fields with deprecated option</h4>
            <table>
              <thead>
                <tr>
                  <td>Name</td>
                  <td>Option</td>
                </tr>
              </thead>
              <tbody>
              
                <tr>
                  <td>channel_names</td>
                  <td><p>true</p></td>
                </tr>
              
              </tbody>
            </table>
            
          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo">DeviceInventoryResponse.Device.CircuitInfo</h3>
        <p>describes a single circuit which is monitored by a single CT</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>channel_number</td>
                  <td><a href="#uint32">uint32</a></td>
                  <td></td>
                  <td><p>see the DeviceModel enum for a discussion of how many circuits each kind of Device has </p></td>
                </tr>
              
                <tr>
                  <td>type</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo.CircuitType">DeviceInventoryResponse.Device.CircuitInfo.CircuitType</a></td>
                  <td></td>
                  <td><p>see the description of the possible values in the CircuitType enum </p></td>
                </tr>
              
                <tr>
                  <td>energy_direction</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo.EnergyDirection">DeviceInventoryResponse.Device.CircuitInfo.EnergyDirection</a></td>
                  <td></td>
                  <td><p>what direction is the power flow this CT is monitoring? </p></td>
                </tr>
              
                <tr>
                  <td>sub_type</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>optionally chosen by the customer for Vue Expansion circuits.  Or set by Emporia for Battery circuits.  May be empty (not set) </p></td>
                </tr>
              
                <tr>
                  <td>name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>optional name entered by the Customer, may be empty (not set) and the customer can change it freely </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CustomerInfo">DeviceInventoryResponse.Device.CustomerInfo</h3>
        <p>describes a customer that is associated to this device</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>first_name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>last_name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>email</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceUsageRequest">DeviceUsageRequest</h3>
        <p>Get historical usage for the specified time range and scale</p><p>Usage is returned for each of the specified devices, allowing usage data to be queried </p><p>for a single device, a group of devices or all associated devices in a single call to the API.  </p><p>Please see the notes on the PartnerApi service (top of the .proto file) for a discussion of acceptable use.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>start_epoch_seconds</td>
                  <td><a href="#uint64">uint64</a></td>
                  <td></td>
                  <td><p>start and end are specified as seconds since epoch (January 1, 1970) in the UTC timezone. </p></td>
                </tr>
              
                <tr>
                  <td>end_epoch_seconds</td>
                  <td><a href="#uint64">uint64</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>scale</td>
                  <td><a href="#emporiaenergy.partner_api_2.DataResolution">DataResolution</a></td>
                  <td></td>
                  <td><p>What resolution data should be fetched? </p></td>
                </tr>
              
                <tr>
                  <td>channels</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceUsageRequest.UsageChannel">DeviceUsageRequest.UsageChannel</a></td>
                  <td></td>
                  <td><p>which channels of data should be fetched? </p></td>
                </tr>
              
                <tr>
                  <td>manufacturer_device_ids</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>If empty, return usage for all devices associated with partner
if not empty, limit the returned devices to the specified MDIs </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceUsageResponse">DeviceUsageResponse</h3>
        <p>Emporia produces a range of devices that vary in the data they measure.</p><p>Outlets, EVChargers and UtilityConnects (Zigbees) devices have only one circuit: #1</p><p>Vue, Vue2 and Vue3 monitors have up to 3 200amp CTs, reporting on circuits 1, 2 and 3.  The app sums the usage</p><p>for those circuits and displays it as Mains.  The Vue energy monitors may also have up to 16 50amp CTs which</p><p>are reported on circuits 4-19.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>device_usages</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceUsageResponse.DeviceUsage">DeviceUsageResponse.DeviceUsage</a></td>
                  <td>repeated</td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceUsageResponse.DeviceUsage">DeviceUsageResponse.DeviceUsage</h3>
        <p>Represents usage for a single Emporia device.  The bucket_epoch_seconds is when this "bucket" of usage started</p><p>for this device.  For time scales of Days and longer, this may be different from the requested data range.</p><p>For example, if you have a device in Mountain time and a device in Pacific time and you request daily</p><p>data for the 12 hours between 10:00 UTC (+6 from  Mountain and +7 from Pacific) to 22:00 UTC the returned DeviceUsages will </p><p>start at 4am UTC for the Mountain device and 3am UTC for the Pacific device since we calculate Daily, Monthly, etc</p><p>usage from the perspective of the Device's timezone.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>manufacturer_device_id</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>scale</td>
                  <td><a href="#emporiaenergy.partner_api_2.DataResolution">DataResolution</a></td>
                  <td></td>
                  <td><p>echos back the requested scale </p></td>
                </tr>
              
                <tr>
                  <td>bucket_epoch_seconds</td>
                  <td><a href="#uint64">uint64</a></td>
                  <td>repeated</td>
                  <td><p>a list of the Instants of the energy usage data that is being returned in the usages list contained in each channel_usages item.  These are in 
ascending order, the most recent time will be at the end.  The timestamp is the beginning of the bucket, so for minute data a timestamp 
of 8:05 is reporting energy used between 8:05:00 and 8:05:59.999. </p></td>
                </tr>
              
                <tr>
                  <td>channel_usages</td>
                  <td><a href="#emporiaenergy.partner_api_2.DeviceUsageResponse.DeviceUsage.ChannelUsageData">DeviceUsageResponse.DeviceUsage.ChannelUsageData</a></td>
                  <td>repeated</td>
                  <td><p>a list of per channel usage information, there will be one item for each channel of data being reported </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.DeviceUsageResponse.DeviceUsage.ChannelUsageData">DeviceUsageResponse.DeviceUsage.ChannelUsageData</h3>
        <p>The usage is energy consumed over the bucket in watt-hours.  So a 100 watt load over a one hour bucket </p><p>will report 100 watt-hours, while the same 100 watt load over a minute bucket will report 1.666 watt-hours (100/60).</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>channel</td>
                  <td><a href="#uint32">uint32</a></td>
                  <td></td>
                  <td><p>the channel that the data is for </p></td>
                </tr>
              
                <tr>
                  <td>usages</td>
                  <td><a href="#double">double</a></td>
                  <td>repeated</td>
                  <td><p>the usage in watt-hours, see the above comment for interpreting watt-hours for scales shorter than one hour
this list will be the same length as bucket_epoch_seconds, you can use those timestamps to know the Instant for each item </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.EVCharger">EVCharger</h3>
        <p>Describes an Emporia EV Charger, a WiFi connected 48 amp level 2 Electric Vehicle charger</p><p>The MDI is stored in the Settings so that it can be sent back to the API to change the settings</p><p>If the device is not currently connected to the Emporia cloud (check the device_connected that is part of Device in the DeviceInventoryResponse),</p><p>the car_connected and car_charging flags below may be out of date and a call to UpdateEVChargers will fail</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>car_connected</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>is there a car connected to the EV Charger? </p></td>
                </tr>
              
                <tr>
                  <td>car_charging</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>is the car actively taking power from the charger?  If the car is connected but full or the charger is not set to On then this will be false </p></td>
                </tr>
              
                <tr>
                  <td>max_charge_rate_amps</td>
                  <td><a href="#uint32">uint32</a></td>
                  <td></td>
                  <td><p>maximum rate that the charger may be set at; configured by the customer based on their breaker size </p></td>
                </tr>
              
                <tr>
                  <td>settings</td>
                  <td><a href="#emporiaenergy.partner_api_2.EVChargerSettings">EVChargerSettings</a></td>
                  <td></td>
                  <td><p>the settings that may be changed using the API, starting at a higher index to leave room for additional non-changeable fields </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.EVChargerSettings">EVChargerSettings</h3>
        <p>The EVChargers's settings, this structure is both returned to partners and sent back to Emporia to control the battery.  </p><p>When returned from Emporia to a client all the fields will be set; i.e., both the on and charge_rate_amps will be set.</p><p>When sent to Emporia to change the battery settings it is not required to set all the fields in settings.</p><p>I.e., you can change charge_rate_amps without setting the on field.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>manufacturer_device_id</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>identifies this device </p></td>
                </tr>
              
                <tr>
                  <td>on</td>
                  <td><a href="#google.protobuf.BoolValue">google.protobuf.BoolValue</a></td>
                  <td></td>
                  <td><p>Is the charger set to charge? </p></td>
                </tr>
              
                <tr>
                  <td>charge_rate_amps</td>
                  <td><a href="#google.protobuf.UInt32Value">google.protobuf.UInt32Value</a></td>
                  <td></td>
                  <td><p>must be between 6 and the max_charge_rate_amps (inclusive) </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.EVChargersResponse">EVChargersResponse</h3>
        <p></p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>evchargers</td>
                  <td><a href="#emporiaenergy.partner_api_2.EVCharger">EVCharger</a></td>
                  <td>repeated</td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.ListDevicesRequest">ListDevicesRequest</h3>
        <p>Used to request the device-type specific details for a specific Model of device.  </p><p>All the MDIs must be associated to the partner's account and must be of the correct type;</p><p>e.g., you can't pass an EVCharger MDI into the list Batteries method.</p><p>The returned list may be smaller than the list of provided MDIs if some of the</p><p>devices haven't been onboarded to Emporia yet.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>manufacturer_device_ids</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>If empty, return all devices associated with partner. This is limited by the Model; e.g., calling ListOutlets will only return outlets
if not empty, limit the returned devices to the specified MDIs </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.OutletSettings">OutletSettings</h3>
        <p>Represents a single Emporia Outlet.  This is used both in the response from </p><p>the API describing the current state and in the UpdateOutlets method to turn an Outlet on or off.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>manufacturer_device_id</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>on</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>If device_connected for an Outlet is false, the On/Off status may be out of date </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.OutletsResponse">OutletsResponse</h3>
        <p>Response describing the On/Off status of an Emporia Outlet.  </p><p>If device_connected for an Outlet is false, the On/Off status may be out of date</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>outlets</td>
                  <td><a href="#emporiaenergy.partner_api_2.OutletSettings">OutletSettings</a></td>
                  <td>repeated</td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.UpdateBatteriesRequest">UpdateBatteriesRequest</h3>
        <p>changes one or more Batteries to the requested settings</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>settings</td>
                  <td><a href="#emporiaenergy.partner_api_2.BatterySettings">BatterySettings</a></td>
                  <td>repeated</td>
                  <td><p>one or more batteries to update; the caller must set at least one of the changeable fields in each BatterySettings. </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.UpdateEVChargersRequest">UpdateEVChargersRequest</h3>
        <p>changes one or more EVChargers to the requested settings</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>settings</td>
                  <td><a href="#emporiaenergy.partner_api_2.EVChargerSettings">EVChargerSettings</a></td>
                  <td>repeated</td>
                  <td><p>one or more ev chargers to update; the caller must set at least one of the changeable fields in each EVChargerSettings. </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.UpdateOutletsRequest">UpdateOutletsRequest</h3>
        <p>Used by the UpdateOutlets method to turn an Outlet on or off</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>auth_token</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>outlets</td>
                  <td><a href="#emporiaenergy.partner_api_2.OutletSettings">OutletSettings</a></td>
                  <td>repeated</td>
                  <td><p>a list of one or more outlets with on set to the desired on/off state </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.UtilityConnect">UtilityConnect</h3>
        <p>Describes a Utility Connect (Emporia device that connects to an AMI Smart Meter using the Zigbee protocol)</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>manufacturer_device_id</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>zigbee_mac</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>the MAC of the Zigbee radio, which will be unavailable if the device hasn&#39;t connected to Emporia&#39;s cloud yet </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="emporiaenergy.partner_api_2.UtilityConnectsResponse">UtilityConnectsResponse</h3>
        <p>Response describing the On/Off status of an Emporia Outlet.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>utility_connects</td>
                  <td><a href="#emporiaenergy.partner_api_2.UtilityConnect">UtilityConnect</a></td>
                  <td>repeated</td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      

      
        <h3 id="emporiaenergy.partner_api_2.DataResolution">DataResolution</h3>
        <p>Defines the time covered by the returned usage "bars".  Historical data is returned in buckets covering the requested duration.  </p><p>For example, requesting 2 hours of FifteenMinutes data will return 8 items. As described in the ChannelUsageData definition, </p><p>the returned usage is in watt-hours.</p><p>A partial bar is a bar covering a time period that isn't yet complete such as asking for the current hour or the current day.  </p><p>The API will only return partial bars for DataResolution's of Days or longer.  So if you request the hour bars you won't get</p><p>a bar reporting the energy consumed so far in the current hour since that will change as time passes.  However, for Days</p><p>and longer the API will return a partial bar and the user should know that bar may change.</p><p>The Emporia cloud retains Minute data for one week, 15-minute data for one year and Hourly and longer data is kept indefinitely.</p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>Minutes</td>
                <td>0</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>FifteenMinutes</td>
                <td>1</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Hours</td>
                <td>2</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Days</td>
                <td>3</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Weeks</td>
                <td>4</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Months</td>
                <td>5</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Years</td>
                <td>6</td>
                <td><p></p></td>
              </tr>
            
          </tbody>
        </table>
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo.CircuitType">DeviceInventoryResponse.Device.CircuitInfo.CircuitType</h3>
        <p>classifies the reported energy based on the device's configuration</p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>UNKNOWN_TYPE</td>
                <td>0</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Vue_200A_Main</td>
                <td>1</td>
                <td><p>Vue1 or Vue2 200A Mains CT, will be circuit number 1, 2 or 3</p></td>
              </tr>
            
              <tr>
                <td>Vue_50A_Expansion</td>
                <td>2</td>
                <td><p>will be circuit number 4-19 for a Vue2 or 4-11 for a Vue1</p></td>
              </tr>
            
              <tr>
                <td>Main</td>
                <td>3</td>
                <td><p>the single circuit for the device, applies to Outlet, EV Charger or Utility Connect devices</p></td>
              </tr>
            
              <tr>
                <td>Battery</td>
                <td>4</td>
                <td><p>one of the circuits monitored by the Battery, see the sub_type for details as to which power flow</p></td>
              </tr>
            
          </tbody>
        </table>
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.CircuitInfo.EnergyDirection">DeviceInventoryResponse.Device.CircuitInfo.EnergyDirection</h3>
        <p>Which direction is the energy on this circuit flowing?  This is set based on how the customer configured the system.</p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>UNKNOWN_DIRECTION</td>
                <td>0</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Consumption</td>
                <td>1</td>
                <td><p>energy usage is treated as consumption (watt-hours will be positive), even if the CT is installed backwards</p></td>
              </tr>
            
              <tr>
                <td>Generation</td>
                <td>2</td>
                <td><p>energy usage is treated as generation (watt-hours will be negative), even if the CT is installed backwards</p></td>
              </tr>
            
              <tr>
                <td>Bidirectional</td>
                <td>3</td>
                <td><p>the CT is treated as directional and may report both consumption (positive) and generation (negative) watt-hours</p></td>
              </tr>
            
          </tbody>
        </table>
      
        <h3 id="emporiaenergy.partner_api_2.DeviceInventoryResponse.Device.DeviceModel">DeviceInventoryResponse.Device.DeviceModel</h3>
        <p></p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>UNKNOWN</td>
                <td>0</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>Vue1</td>
                <td>6</td>
                <td><p>The first generation energy monitor, aka Vue1.  Has one-three 200 amp CTs on the Mains and up to eight 50 amp CTs on expansion circuits.  VUE001 in the V1 API</p></td>
              </tr>
            
              <tr>
                <td>Vue2</td>
                <td>1</td>
                <td><p>The second generation energy monitor, aka Vue2. Has one-three 200 amp CTs on the Mains and up to sixteen 50 amp CTs on expansion circuits.  VUE002 in the V1 API</p></td>
              </tr>
            
              <tr>
                <td>Vue3</td>
                <td>7</td>
                <td><p>The third generation energy monitor, aka Vue3. Has one-three 200 amp CTs on the Mains and up to sixteen 50 amp CTs on expansion circuits.</p></td>
              </tr>
            
              <tr>
                <td>UtilityConnect</td>
                <td>2</td>
                <td><p>Utility Connect energy monitor, which connects to Smart Meters using Smart Energy Protocol over Zigbee; has a single Mains circuit that matches the paired meter.  ZIG001 / Zigbee in the V1 API.</p></td>
              </tr>
            
              <tr>
                <td>Outlet</td>
                <td>3</td>
                <td><p>Smart Outlet for 120V North American use; has a single Mains circuit for the load of the plugged in device.  SSO001 in the V1 API.</p></td>
              </tr>
            
              <tr>
                <td>EVCharger</td>
                <td>4</td>
                <td><p>Smart EV Charger; single mains circuit which may report up to 48A at ~240V</p></td>
              </tr>
            
              <tr>
                <td>Battery</td>
                <td>5</td>
                <td><p>Emporia Home Battery</p></td>
              </tr>
            
          </tbody>
        </table>
      
        <h3 id="emporiaenergy.partner_api_2.DeviceUsageRequest.UsageChannel">DeviceUsageRequest.UsageChannel</h3>
        <p>Specifies which data channels to fetch, see the DeviceUsageResponse message for more details</p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>MAINS</td>
                <td>0</td>
                <td><p>the Main channels, will be 1 channel for Plugs, Zigbees and EVSEs and up to 3 channels for Vue1s, Vue2s and Vue3s
To replicate what the Emporia app displays, you should sum all the mains circuits: 1 &amp; 2 &amp; 3 (the third 200A CT is rarely used in residential installations)</p></td>
              </tr>
            
              <tr>
                <td>ALL</td>
                <td>1</td>
                <td><p>in additions to the Mains channels from above, will include expansion channels, could be up to 19 channels for a Vue2 (3 mains and 16 50A CTs)</p></td>
              </tr>
            
          </tbody>
        </table>
      

      

      
        <h3 id="emporiaenergy.partner_api_2.PartnerApi">PartnerApi</h3>
        <p>The methods available from the Emporia Energy Partner API.  The Emporia API is available via gRPC at</p><p>URL:  partner.emporiaenergy.com </p><p>PORT: 50052				</p><p>The V1 of the API used to run on port 50051 but it is no longer available.</p><p>Clients should be prepared to handle the following errors:</p><p>Status.UNAUTHENTICATED if the auth_token is invalid</p><p>Status.RESOURCE_EXHAUSTED if the partner has exceeded the allowed number of requests (currently monitored per hour)</p><p>Status.INVALID_ARGUMENT and a description of the problem if the request is invalid</p><p>API call frequency, database usage and bandwidth limitations may be imposed to avoid misuse of the API by </p><p>partners or erroneous code.  </p><p>As of March 2023, we recommend that partners limit their API calls to less than 100 calls per hour.  The API provides </p><p>the ability to request data for many devices in a single call so this does not limit the number of devices </p><p>a partner can monitor and manage via the API. A typical usage pattern might be:</p><p>-	Request the list of associated devices hourly. </p><p>-	Request minute, 15-minute or hourly data for some or all devices not more frequently than once a minute, being aware that requests for recent time periods may return partial bars.</p><p>-	Control loads such as EV Chargers and Smart Outlets as needed.</p><p>The Update methods for EVChargers and Batteries take a settings structure that allows the caller to specify one </p><p>or more settings to change.  Anything that is not specified isn't changed by the update call.  This requires using</p><p>Google's protobuf wrappers such as BoolValue rather than bool since with a plain bool we can't tell if it was </p><p>set to false or not set at all.</p>
        <table class="enum-table">
          <thead>
            <tr><td>Method Name</td><td>Request Type</td><td>Response Type</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>Authenticate</td>
                <td><a href="#emporiaenergy.partner_api_2.AuthenticationRequest">AuthenticationRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.AuthenticationResponse">AuthenticationResponse</a></td>
                <td><p>login with the email and password you use on the portal website and get back an auth_token</p></td>
              </tr>
            
              <tr>
                <td>GetDevices</td>
                <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryRequest">DeviceInventoryRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.DeviceInventoryResponse">DeviceInventoryResponse</a></td>
                <td><p>get the collection of devices associated to your partner account, 
optionally limited to devices related to one or more customer emails</p></td>
              </tr>
            
              <tr>
                <td>GetUsageData</td>
                <td><a href="#emporiaenergy.partner_api_2.DeviceUsageRequest">DeviceUsageRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.DeviceUsageResponse">DeviceUsageResponse</a></td>
                <td><p>get usage data for one or more devices</p></td>
              </tr>
            
              <tr>
                <td>ListUtilityConnects</td>
                <td><a href="#emporiaenergy.partner_api_2.ListDevicesRequest">ListDevicesRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.UtilityConnectsResponse">UtilityConnectsResponse</a></td>
                <td><p>get the device-type specific details for Utility Connect devices</p></td>
              </tr>
            
              <tr>
                <td>ListOutlets</td>
                <td><a href="#emporiaenergy.partner_api_2.ListDevicesRequest">ListDevicesRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.OutletsResponse">OutletsResponse</a></td>
                <td><p>get the device-type specific details for Outlets, specifically if they are on or off</p></td>
              </tr>
            
              <tr>
                <td>UpdateOutlets</td>
                <td><a href="#emporiaenergy.partner_api_2.UpdateOutletsRequest">UpdateOutletsRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.OutletsResponse">OutletsResponse</a></td>
                <td><p>Set one or more Outlets to be on or off.  
Only the devices that were changed will be included in the response; devices that
aren&#39;t connected to the cloud or were already in the requested state won&#39;t be included</p></td>
              </tr>
            
              <tr>
                <td>ListEVChargers</td>
                <td><a href="#emporiaenergy.partner_api_2.ListDevicesRequest">ListDevicesRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.EVChargersResponse">EVChargersResponse</a></td>
                <td><p>get the device-type specific details for EVChargers</p></td>
              </tr>
            
              <tr>
                <td>UpdateEVChargers</td>
                <td><a href="#emporiaenergy.partner_api_2.UpdateEVChargersRequest">UpdateEVChargersRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.EVChargersResponse">EVChargersResponse</a></td>
                <td><p>change the settings for one or more EVChargers
Only the devices that were changed will be included in the response; devices that
aren&#39;t connected to the cloud or were already in the requested state won&#39;t be included</p></td>
              </tr>
            
              <tr>
                <td>ListBatteries</td>
                <td><a href="#emporiaenergy.partner_api_2.ListDevicesRequest">ListDevicesRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.BatteriesResponse">BatteriesResponse</a></td>
                <td><p>get the device-type specific details for Batteries</p></td>
              </tr>
            
              <tr>
                <td>UpdateBatteries</td>
                <td><a href="#emporiaenergy.partner_api_2.UpdateBatteriesRequest">UpdateBatteriesRequest</a></td>
                <td><a href="#emporiaenergy.partner_api_2.BatteriesResponse">BatteriesResponse</a></td>
                <td><p>change the settings for one or more batteries 
Only the devices that were changed will be included in the response; devices that
aren&#39;t connected to the cloud or were already in the requested state won&#39;t be included</p></td>
              </tr>
            
          </tbody>
        </table>

        
    

    <h2 id="scalar-value-types">Scalar Value Types</h2>
    <table class="scalar-value-types-table">
      <thead>
        <tr><td>.proto Type</td><td>Notes</td><td>C++</td><td>Java</td><td>Python</td><td>Go</td><td>C#</td><td>PHP</td><td>Ruby</td></tr>
      </thead>
      <tbody>
        
          <tr id="double">
            <td>double</td>
            <td></td>
            <td>double</td>
            <td>double</td>
            <td>float</td>
            <td>float64</td>
            <td>double</td>
            <td>float</td>
            <td>Float</td>
          </tr>
        
          <tr id="float">
            <td>float</td>
            <td></td>
            <td>float</td>
            <td>float</td>
            <td>float</td>
            <td>float32</td>
            <td>float</td>
            <td>float</td>
            <td>Float</td>
          </tr>
        
          <tr id="int32">
            <td>int32</td>
            <td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
            <td>int32</td>
            <td>int</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="int64">
            <td>int64</td>
            <td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
            <td>int64</td>
            <td>long</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="uint32">
            <td>uint32</td>
            <td>Uses variable-length encoding.</td>
            <td>uint32</td>
            <td>int</td>
            <td>int/long</td>
            <td>uint32</td>
            <td>uint</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="uint64">
            <td>uint64</td>
            <td>Uses variable-length encoding.</td>
            <td>uint64</td>
            <td>long</td>
            <td>int/long</td>
            <td>uint64</td>
            <td>ulong</td>
            <td>integer/string</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="sint32">
            <td>sint32</td>
            <td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
            <td>int32</td>
            <td>int</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="sint64">
            <td>sint64</td>
            <td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
            <td>int64</td>
            <td>long</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="fixed32">
            <td>fixed32</td>
            <td>Always four bytes. More efficient than uint32 if values are often greater than 2^28.</td>
            <td>uint32</td>
            <td>int</td>
            <td>int</td>
            <td>uint32</td>
            <td>uint</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="fixed64">
            <td>fixed64</td>
            <td>Always eight bytes. More efficient than uint64 if values are often greater than 2^56.</td>
            <td>uint64</td>
            <td>long</td>
            <td>int/long</td>
            <td>uint64</td>
            <td>ulong</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="sfixed32">
            <td>sfixed32</td>
            <td>Always four bytes.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
            <td>int32</td>
            <td>int</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="sfixed64">
            <td>sfixed64</td>
            <td>Always eight bytes.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
            <td>int64</td>
            <td>long</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="bool">
            <td>bool</td>
            <td></td>
            <td>bool</td>
            <td>boolean</td>
            <td>boolean</td>
            <td>bool</td>
            <td>bool</td>
            <td>boolean</td>
            <td>TrueClass/FalseClass</td>
          </tr>
        
          <tr id="string">
            <td>string</td>
            <td>A string must always contain UTF-8 encoded or 7-bit ASCII text.</td>
            <td>string</td>
            <td>String</td>
            <td>str/unicode</td>
            <td>string</td>
            <td>string</td>
            <td>string</td>
            <td>String (UTF-8)</td>
          </tr>
        
          <tr id="bytes">
            <td>bytes</td>
            <td>May contain any arbitrary sequence of bytes.</td>
            <td>string</td>
            <td>ByteString</td>
            <td>str</td>
            <td>[]byte</td>
            <td>ByteString</td>
            <td>string</td>
            <td>String (ASCII-8BIT)</td>
          </tr>
        
      </tbody>
    </table>
  </body>
</html>

